# 2026-02-10 — Blättr Launch Sprint + Buch-Idee

## Blättr App — Massive Progress Today

### Fertig gebaut:
- **Impressionen-Tracking** — neue `book_impressions` Tabelle (feed/search), auto-tracking in Feed + Search endpoints, Author Dashboard zeigt Feed/Such-Impressionen + 7-Tage Mini-Chart
- **Dashboard Redesign** — Große Impressionen-Karte oben, 3 kleine Stats darunter, kompaktere Bücherliste ohne redundante Zahlen
- **"Autoren Ansicht"** — Subtitle geändert für Exklusivitätsgefühl
- **Onboarding-Flow** — 4 Schritte: Willkommen → Rolle (Leser/Autor) → Genre-Auswahl bzw. Name+Bio → Los geht's. DB flag `onboarding_completed`
- **App-Tour (statisch)** — 5 Fullscreen-Screens als Fallback (Swipen, Merkliste, Bibliothek, Stöbern, Bereit)
- **Spotlight-Tour (interaktiv!)** — Dunkler Overlay mit Spotlight-Loch über echten UI-Elementen. SVG Mask funktionierte NICHT auf Native → umgeschrieben mit 4 Animated Views (top/bottom/left/right Rects). Per-User Key in AsyncStorage.
- **Passwort-Reset** — Forgot-password Flow: Email → 6-stelliger Code per Mail → neues PW. Emails von tyto@nexinnovations.us via SMTP ff-web.de
- **Passwort-Auge** — Eye toggle auf Login + Register, Feather icons
- **Passwort-Mindestlänge** — Frontend 6→8 aligned mit API, permanenter Hint
- **Fehlermeldungen** — Zod-Errors + HTTPException Errors werden jetzt korrekt geparst und auf Deutsch angezeigt
- **Leihdauer** — 28→42 Tage (6 Wochen), alle Texte aktualisiert (AGB, Author Dashboard, Tour)
- **Credits-Screen** in Tour hinzugefügt
- **Genre-Bug** — Profil zeigte "1/5" aber kein highlighted Genre weil favoriteGenre nicht in allGenres Liste war → gemerged

### Bugs gefixt:
- Register/Login navigierten direkt zu /(tabs) und übersprangen Onboarding → jetzt richtig geroutet
- `onboardingCompleted` nicht im Login-Response → war drin, aber Error-Parsing war kaputt
- Spotlight-Tour war pro App statt pro User → jetzt per user-id Key
- SVG Mask Spotlight funktionierte nicht auf iOS → 4-Rect Ansatz
- Weiter-Button Farbe hardcoded #fff → c.buttonPrimaryText

### LETSGO.md erstellt — 15 Punkte Launch Roadmap:
- Kritisch: Push-Notifications, Onboarding ✅, PW-Reset ✅, App Store Assets, Hosting
- Wichtig: Content-Masse, Bewertungen, Reader-Suche, Social Proof, Offline
- Nice: Algorithmus, Verifizierung, Reporting, Sharing, Fortschritt-Sync

### Alex' nächste Idee für Spotlight-Tour:
User soll **interaktiv** die Tour durchlaufen — tatsächlich swipen, tatsächlich Tabs antippen, statt "Weiter" Button drücken. Credits am Ende über Profil-Tab → (i) Button erklären. Learning by Doing. Noch nicht implementiert.

## Buch-Idee: "Zwei Alte im Krankenhaus"
- In Obsidian Vault gespeichert: `Buch-Ideen/Zwei Alte im Krankenhaus.md`
- 95-Jähriger (perfekt gelebt) vs 80-Jähriger (frei gelebt), beide todkrank
- **Twist:** Der Freie stirbt friedlich, der Kontrollierte qualvoll langsam — sein Körper hat nie gelernt loszulassen
- Gehört zum Freiheitsautor-Pseudonym
- Kammerspiel-Format, unter 100 Seiten, reiner Dialog

## Technische Lektionen:
- **SVG Masks in react-native-svg sind unzuverlässig** mit Animated Values auf Native → 4-Rect-Overlay ist der robuste Ansatz
- **AsyncStorage ist pro App, nicht pro User** — Tour-completion Keys brauchen User-ID
- **Hono HTTPException** gibt `{ error: "string" }` zurück, nicht `{ message }` — Client muss beides parsen
- **Zod Validation Errors** haben Format `{ error: { issues: [...] } }` — separater Parse-Pfad nötig
